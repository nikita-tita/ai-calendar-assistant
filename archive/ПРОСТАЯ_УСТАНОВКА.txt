=================================================
ðŸš€ ÐŸÐ ÐžÐ¡Ð¢ÐÐ¯ Ð£Ð¡Ð¢ÐÐÐžÐ’ÐšÐ AI CALENDAR BOT
=================================================

Ð’ÐÐ¨Ð˜ Ð”ÐÐÐÐ«Ð•:
IP: 91.229.8.221
Ð›Ð¾Ð³Ð¸Ð½: root
ÐŸÐ°Ñ€Ð¾Ð»ÑŒ: xZV5uNNlvqd9G01r

=================================================
Ð¡ÐŸÐžÐ¡ÐžÐ‘ 1: Ð§ÐµÑ€ÐµÐ· Ð²ÐµÐ±-ÐºÐ¾Ð½ÑÐ¾Ð»ÑŒ (Ð Ð•ÐšÐžÐœÐ•ÐÐ”Ð£Ð•Ð¢Ð¡Ð¯)
=================================================

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ: https://www.reg.ru/user/account
2. Ð¡ÐµÑ€Ð²ÐµÑ€Ñ‹ â†’ VPS â†’ Sapphire Palladium â†’ ÐšÐ¾Ð½ÑÐ¾Ð»ÑŒ
3. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸Ð½: root
4. ÐŸÐ°Ñ€Ð¾Ð»ÑŒ Ð¿Ð¾ÑÐ²Ð¸Ñ‚ÑÑ Ð·Ð°Ð¿Ñ€Ð¾Ñ, ÐÐž Ð¡Ð˜ÐœÐ’ÐžÐ›Ð« ÐÐ• Ð‘Ð£Ð”Ð£Ð¢ Ð’Ð˜Ð”ÐÐ«!
5. ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð½Ð°Ð¿ÐµÑ‡Ð°Ñ‚Ð°Ð¹Ñ‚Ðµ Ð¸Ð»Ð¸ Ð²ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ: xZV5uNNlvqd9G01r
6. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Enter

Ð’ÐÐ–ÐÐž: ÐŸÑ€Ð¸ Ð²Ð²Ð¾Ð´Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ ÐÐ˜Ð§Ð•Ð“Ðž Ð½Ðµ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÐµÑ‚ÑÑ - ÑÑ‚Ð¾ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾!

=================================================
ÐŸÐžÐ¡Ð›Ð• Ð’Ð¥ÐžÐ”Ð - Ð¡ÐšÐžÐŸÐ˜Ð Ð£Ð™Ð¢Ð• Ð’Ð¡Ð ÐÐ˜Ð–Ð• Ð¦Ð•Ð›Ð˜ÐšÐžÐœ:
=================================================

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð²ÑÐµÐ³Ð¾ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾Ð³Ð¾ Ð¾Ð´Ð½Ð¾Ð¹ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹
curl -fsSL https://get.docker.com | sh && \
systemctl enable docker && \
systemctl start docker && \
apt-get update && \
apt-get install -y curl wget git && \
mkdir -p /root/ai-calendar-assistant/app && \
cd /root/ai-calendar-assistant

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ .env Ñ„Ð°Ð¹Ð»Ð°
cat > .env << 'ENVEOF'
TELEGRAM_BOT_TOKEN=8378762774:AAEYXYVmx84pgp2_sn_U7RXYTgfNJMY-Klk
OPENAI_API_KEY=sk-proj-your-openai-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here
RADICALE_URL=https://calendar-bot-production-e1ac.up.railway.app
ENVIRONMENT=production
LOG_LEVEL=INFO
HOST=0.0.0.0
PORT=8000
DEFAULT_TIMEZONE=Europe/Moscow
ENVEOF

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Dockerfile
cat > Dockerfile.bot << 'DOCKEREOF'
FROM python:3.11-slim
WORKDIR /app
RUN apt-get update && apt-get install -y ffmpeg && rm -rf /var/lib/apt/lists/*
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
CMD ["python", "run_polling.py"]
DOCKEREOF

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ requirements.txt
cat > requirements.txt << 'REQEOF'
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6
python-telegram-bot>=21.0
caldav>=1.3.0
icalendar>=5.0.0
anthropic>=0.8.0
python-dateutil==2.8.2
dateparser==1.2.0
pytz==2023.3
openai-whisper==20231117
openai>=1.50.0
pydantic==2.5.2
pydantic-settings==2.1.0
python-dotenv==1.0.0
httpx>=0.25.0
aiohttp>=3.9.0
tenacity==8.2.3
structlog==23.2.0
REQEOF

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ docker-compose
cat > docker-compose.production.yml << 'COMPOSEEOF'
version: '3.8'
services:
  telegram-bot:
    container_name: telegram-bot
    build:
      context: .
      dockerfile: Dockerfile.bot
    env_file:
      - .env
    restart: always
    volumes:
      - ./logs:/app/logs
      - ./credentials:/app/credentials
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
COMPOSEEOF

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ Ñ„Ð°Ð¹Ð»Ð° Ð±Ð¾Ñ‚Ð°
cat > run_polling.py << 'PYEOF'
#!/usr/bin/env python3
import os
import logging
from telegram import Update
from telegram.ext import Application, CommandHandler, MessageHandler, filters, ContextTypes

logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)
logger = logging.getLogger(__name__)

TELEGRAM_BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        'ðŸ¤– AI Calendar Assistant Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½!\n\n'
        'ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:\n/start - ÐÐ°Ñ‡Ð°Ð»Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹\n/help - ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ'
    )

async def help_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        'ðŸ“‹ ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ:\n\n'
        'ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÐµÐ¼, Ñ Ð´Ð¾Ð±Ð°Ð²Ð»ÑŽ Ð² ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ.\n'
        'ÐŸÑ€Ð¸Ð¼ÐµÑ€: "Ð’ÑÑ‚Ñ€ÐµÑ‡Ð° Ð·Ð°Ð²Ñ‚Ñ€Ð° Ð² 15:00"'
    )

async def echo(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(f"ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¾: {update.message.text}")

def main():
    if not TELEGRAM_BOT_TOKEN:
        logger.error("TELEGRAM_BOT_TOKEN Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½!")
        return
    logger.info("ðŸš€ Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°...")
    application = Application.builder().token(TELEGRAM_BOT_TOKEN).build()
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CommandHandler("help", help_command))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, echo))
    logger.info("âœ… Ð‘Ð¾Ñ‚ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ðµ polling")
    application.run_polling(allowed_updates=Update.ALL_TYPES)

if __name__ == '__main__':
    main()
PYEOF

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ app
touch app/__init__.py

# Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¹
mkdir -p logs credentials

# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Docker Compose
curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
chmod +x /usr/local/bin/docker-compose

# Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°
docker-compose -f docker-compose.production.yml up -d --build

echo ""
echo "===================================="
echo "âœ… Ð‘Ð¾Ñ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð¸ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½!"
echo "===================================="
echo ""
echo "ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ° (10 ÑÐµÐºÑƒÐ½Ð´)..."
sleep 10

echo ""
echo "ðŸ“Š Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:"
docker ps

echo ""
echo "ðŸ“ Ð›Ð¾Ð³Ð¸:"
docker logs --tail 50 telegram-bot

echo ""
echo "ðŸŽ‰ ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð±Ð¾Ñ‚Ð° Ð² Telegram - Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ /start"
echo ""
echo "ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:"
echo "  docker logs -f telegram-bot    # Ð›Ð¾Ð³Ð¸ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸"
echo "  docker restart telegram-bot    # ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº"
echo "  docker ps                      # Ð¡Ñ‚Ð°Ñ‚ÑƒÑ"

=================================================
ÐšÐžÐÐ•Ð¦ - Ð­Ð¢Ðž Ð’Ð¡Ð, Ð—ÐÐŸÐ£Ð¡Ð¢Ð˜Ð¢Ð¡Ð¯ ÐÐ’Ð¢ÐžÐœÐÐ¢Ð˜Ð§Ð•Ð¡ÐšÐ˜!
=================================================

Ð’ÐÐ–ÐÐž: Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ñ‹ Ð½Ð°ÑÑ‚Ð¾ÑÑ‰Ð¸Ðµ API ÐºÐ»ÑŽÑ‡Ð¸:
1. ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ: nano /root/ai-calendar-assistant/.env
2. Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ "your-openai-key-here" Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ OpenAI
3. Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ "your-anthropic-key-here" Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Anthropic
4. Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ: Ctrl+X â†’ Y â†’ Enter
5. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ: docker-compose -f /root/ai-calendar-assistant/docker-compose.production.yml restart

=================================================
ÐŸÐ ÐžÐ’Ð•Ð ÐšÐ Ð ÐÐ‘ÐžÐ¢Ð«:
=================================================

1. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ð° Ð² Telegram (Ð¿Ð¾ Ñ‚Ð¾ÐºÐµÐ½Ñƒ 8378762774)
2. ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ /start
3. Ð”Ð¾Ð»Ð¶Ð½Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚!

=================================================
Ð•Ð¡Ð›Ð˜ Ð§Ð¢Ðž-Ð¢Ðž ÐÐ• Ð ÐÐ‘ÐžÐ¢ÐÐ•Ð¢:
=================================================

# ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð»Ð¾Ð³Ð¸
docker logs telegram-bot

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ
docker restart telegram-bot

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½
docker ps

# Ð—Ð°Ð¹Ñ‚Ð¸ Ð²Ð½ÑƒÑ‚Ñ€ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
docker exec -it telegram-bot bash

=================================================
ÐŸÐžÐ”Ð”Ð•Ð Ð–ÐšÐ REG.RU:
=================================================
Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½: 8 800 333-33-33
Email: support@reg.ru
Ð›Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ°Ð±Ð¸Ð½ÐµÑ‚: https://www.reg.ru/user/account

=================================================
