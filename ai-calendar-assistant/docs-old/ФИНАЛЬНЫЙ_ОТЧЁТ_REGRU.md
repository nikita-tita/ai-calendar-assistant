# ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–Å–¢: AI Calendar Bot –Ω–∞ REG.RU

**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025
**–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

### –°–µ—Ä–≤–µ—Ä
- **IP:** 95.163.227.26
- **–ü—Ä–æ–≤–∞–π–¥–µ—Ä:** REG.RU VPS
- **–û–°:** Ubuntu 22.04 LTS
- **–î–æ—Å—Ç—É–ø:** root / $SERVER_PASSWORD

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã Docker

```
CONTAINER ID   IMAGE                                STATUS
d79e2ebbb559   ai-calendar-assistant-telegram-bot   Up 3 hours (healthy)
7f6f1979d7cc   tomsquest/docker-radicale:latest     Up 3 hours (healthy)
```

‚úÖ –û–±–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ –æ—à–∏–±–æ–∫

---

## ü§ñ Telegram Bot

### –°—Ç–∞—Ç—É—Å
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `telegram-bot` - Running, Healthy
- **–¢–æ–∫–µ–Ω:** ***REDACTED_BOT_TOKEN***
- **–†–µ–∂–∏–º:** Polling (–æ–ø—Ä–æ—Å –∫–∞–∂–¥—ã–µ ~10 —Å–µ–∫—É–Ω–¥)
- **–õ–æ–≥–∏:** –ë–µ–∑ –æ—à–∏–±–æ–∫, –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç `200 OK`

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å OpenAI Whisper API (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≥–æ–ª–æ—Å–∞)
- ‚úÖ Anthropic Claude API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CalDAV –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º
- ‚úÖ ffmpeg –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
ssh root@95.163.227.26
docker logs telegram-bot --tail 50
```

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç:**
```
HTTP Request: POST https://api.telegram.org/bot.../getUpdates "HTTP/1.1 200 OK"
```
–†–µ–≥—É–ª—è—Ä–Ω—ã–µ —É—Å–ø–µ—à–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Telegram API - –±–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω –∏ –∂–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## üìÖ Radicale Calendar

### –°—Ç–∞—Ç—É—Å
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä:** `radicale` - Running, Healthy
- **–ü–æ—Ä—Ç:** 5232 (–æ—Ç–∫—Ä—ã—Ç –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
- **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** http://95.163.227.26:5232
- **–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** admin / admin123

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø:** ‚úÖ HTTP 302 (redirect, –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- **–î–æ—Å—Ç—É–ø –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–æ—Ç–∞:** ‚úÖ HTTP 200

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º
–ë–æ—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Radicale —á–µ—Ä–µ–∑ Docker —Å–µ—Ç—å:
- **URL –≤–Ω—É—Ç—Ä–∏ Docker:** `http://radicale:5232`
- **–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** –£—Å–ø–µ—à–Ω–æ (status 200)

---

## üíæ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### –î–∏—Å–∫
```
Filesystem      Size  Used Avail Use%
/dev/sda1       9.8G  2.8G  6.6G  30%
```

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:** 2.8 GB (30%)
- **–°–≤–æ–±–æ–¥–Ω–æ:** 6.6 GB (70%)
- **–ó–∞–ø–∞—Å:** –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –ª–æ–≥–æ–≤

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```bash
TELEGRAM_BOT_TOKEN=***REDACTED_BOT_TOKEN***
RADICALE_URL=http://radicale:5232
RADICALE_USERNAME=admin
RADICALE_PASSWORD=admin123
OPENAI_API_KEY=...
ANTHROPIC_API_KEY=...
```

### Docker Compose
–§–∞–π–ª: `/root/ai-calendar-assistant/docker-compose.full.yml`

**–°–µ—Ä–≤–∏—Å—ã:**
1. `telegram-bot` - –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
2. `radicale` - CalDAV —Å–µ—Ä–≤–µ—Ä

**–°–µ—Ç—å:** –û–±–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ –æ–¥–Ω–æ–π Docker —Å–µ—Ç–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

---

## üöÄ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```bash
ssh root@95.163.227.26
cd /root/ai-calendar-assistant
docker ps
```

#### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```bash
docker logs telegram-bot --tail 100 -f
docker logs radicale --tail 100 -f
```

#### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
```bash
cd /root/ai-calendar-assistant
docker-compose -f docker-compose.full.yml restart
```

#### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
```bash
docker-compose -f docker-compose.full.yml down
```

#### –ó–∞–ø—É—Å—Ç–∏—Ç—å
```bash
docker-compose -f docker-compose.full.yml up -d
```

#### –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
```bash
cd /root/ai-calendar-assistant
git pull
docker-compose -f docker-compose.full.yml down
docker-compose -f docker-compose.full.yml build
docker-compose -f docker-compose.full.yml up -d
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã

1. ‚úÖ **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã** - –û–±–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Up –∏ Healthy
2. ‚úÖ **–õ–æ–≥–∏ –±–æ—Ç–∞ —á–∏—Å—Ç—ã–µ** - –ù–µ—Ç –æ—à–∏–±–æ–∫, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π polling —Ä–∞–±–æ—Ç–∞–µ—Ç
3. ‚úÖ **Radicale –¥–æ—Å—Ç—É–ø–µ–Ω** - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–≤–µ—á–∞–µ—Ç
4. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ë–æ—Ç –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é
5. ‚úÖ **–î–∏—Å–∫ –≤ –Ω–æ—Ä–º–µ** - 70% —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
6. ‚úÖ **–ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Ç–æ–∫–µ–Ω–æ–≤** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
7. ‚úÖ **Docker —Å–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞

---

## üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –ø–æ —Ç–æ–∫–µ–Ω—É
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –æ—Ç–≤–µ—á–∞–µ—Ç –ª–∏ –±–æ—Ç

### –ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
ssh root@95.163.227.26
docker logs telegram-bot --tail 100

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
docker ps | grep telegram-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
cd /root/ai-calendar-assistant
docker-compose -f docker-compose.full.yml restart telegram-bot
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
- **URL:** http://95.163.227.26:5232
- **–õ–æ–≥–∏–Ω:** admin
- **–ü–∞—Ä–æ–ª—å:** admin123
- **–ü—Ä–æ—Ç–æ–∫–æ–ª:** CalDAV

–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:
- Apple Calendar (macOS/iOS)
- Google Calendar
- Thunderbird
- Evolution
- –ò –¥—Ä—É–≥–∏—Ö CalDAV-–∫–ª–∏–µ–Ω—Ç–æ–≤

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

- **REG.RU VPS:** ~200‚ÇΩ/–º–µ—Å—è—Ü
- **OpenAI API:** –ü–æ —Ñ–∞–∫—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **Anthropic API:** –ü–æ —Ñ–∞–∫—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–≠–∫–æ–Ω–æ–º–∏—è:** –í–º–µ—Å—Ç–æ Railway (~500‚ÇΩ/–º–µ—Å) + Radicale —Å–µ—Ä–≤–∏—Å (~500‚ÇΩ/–º–µ—Å) = **~800‚ÇΩ/–º–µ—Å—è—Ü**

---

## üéØ –ò—Ç–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã
1. ‚úÖ SSH –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω sshpass
2. ‚úÖ –ù–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω OpenAI Whisper API –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏
3. ‚úÖ –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–æ–∫–µ–Ω–æ–≤ - –ø–æ–ª—É—á–µ–Ω –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. ‚úÖ Permissions Radicale - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
5. ‚úÖ Docker –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ .env - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω full restart

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
REG.RU VPS (95.163.227.26)
‚îú‚îÄ‚îÄ Docker Container: telegram-bot
‚îÇ   ‚îú‚îÄ‚îÄ Python 3.11
‚îÇ   ‚îú‚îÄ‚îÄ python-telegram-bot
‚îÇ   ‚îú‚îÄ‚îÄ OpenAI Whisper API
‚îÇ   ‚îú‚îÄ‚îÄ Anthropic Claude API
‚îÇ   ‚îî‚îÄ‚îÄ caldav client
‚îÇ
‚îî‚îÄ‚îÄ Docker Container: radicale
    ‚îú‚îÄ‚îÄ CalDAV —Å–µ—Ä–≤–µ—Ä
    ‚îú‚îÄ‚îÄ Port 5232 (external)
    ‚îî‚îÄ‚îÄ Storage: /data/collections
```

**–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ!** –ù–∏–∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç Railway, Fly.io –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –õ–æ–≥–∏ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
```bash
# –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
ssh root@95.163.227.26 "cd /root/ai-calendar-assistant && \
  echo '=== Docker Status ===' && docker ps && \
  echo '=== Bot Logs ===' && docker logs telegram-bot --tail 20 && \
  echo '=== Radicale Logs ===' && docker logs radicale --tail 20 && \
  echo '=== Disk Usage ===' && df -h /"
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ —Å–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:
- `DEPLOY_REGRU_DETAILED.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é
- `QUICK_DEPLOY.md` - –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `–£–ü–†–ê–í–õ–ï–ù–ò–ï_–ë–û–¢–û–ú_REGRU.md` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
- `–í–°–Å_–ù–ê_–û–î–ù–û–ú_–°–ï–†–í–ï–†–ï.md` - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

**–°—Ç–∞—Ç—É—Å:** üü¢ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢
**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-10-10 14:06 UTC

---
