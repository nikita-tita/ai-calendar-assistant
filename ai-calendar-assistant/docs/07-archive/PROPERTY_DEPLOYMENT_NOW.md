# Property Bot - Deployment Instructions

**–ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ!** üöÄ

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

1. **–ú–µ–Ω—é —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —Ä–µ–∂–∏–º–æ–≤**
   - –ö–∞–ª–µ–Ω–¥–∞—Ä—å ‚Üí –∫–Ω–æ–ø–∫–∞ "üè† –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"
   - –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å ‚Üí –∫–Ω–æ–ø–∫–∞ "üîô –ö–∞–ª–µ–Ω–¥–∞—Ä—å"
   - –í –∫–∞–∂–¥–æ–º —Ä–µ–∂–∏–º–µ —Å–≤–æ—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞

2. **Feed Loader**
   - `app/services/property/feed_loader.py` —Å–æ–∑–¥–∞–Ω
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ 11,999 –∫–≤–∞—Ä—Ç–∏—Ä –∏–∑ —Ñ–∏–¥–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ XML, –ø–∞—Ä—Å–∏–Ω–≥, –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –ë–î

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π ‚úÖ (—É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Yandex STT)
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
   - Property Handler –≥–æ—Ç–æ–≤

---

## üéØ –ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### ‚úÖ –î–ê, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

1. **–ü–æ–∏—Å–∫ –∫–≤–∞—Ä—Ç–∏—Ä—ã —á–µ—Ä–µ–∑ –±–æ—Ç–∞**
   - –ù–∞–∂–∞—Ç—å "üè† –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"
   - –ù–∞–ø–∏—Å–∞—Ç—å "–ò—â—É 2–∫ –¥–æ 10 –º–ª–Ω —Å –∏–ø–æ—Ç–µ–∫–æ–π"
   - –ë–æ—Ç –Ω–∞–π–¥–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏–∑ —Ñ–∏–¥–∞

2. **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è**
   - –ó–∞–ø–∏—Å–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ: "–•–æ—á—É —Å—Ç—É–¥–∏—é –≤ –ú–æ—Å–∫–≤–µ –¥–æ 5 –º–∏–ª–ª–∏–æ–Ω–æ–≤"
   - Yandex STT —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å
   - –ë–æ—Ç –ø–æ–π–º–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –Ω–∞–π–¥–µ—Ç –∫–≤–∞—Ä—Ç–∏—Ä—ã

3. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏**
   - –ö–∞–ª–µ–Ω–¥–∞—Ä—å ‚Üí –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å ‚Üí –ö–∞–ª–µ–Ω–¥–∞—Ä—å
   - –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### ‚ö†Ô∏è –ù–ï–¢ (–ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ):

1. **PDF —ç–∫—Å–ø–æ—Ä—Ç** - –Ω—É–∂–Ω–æ 2 –¥–Ω—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **Share-—Å—Ç—Ä–∞–Ω–∏—Ü–∞** - –Ω—É–∂–Ω–æ 2 –¥–Ω—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –Ω—É–∂–Ω–æ 8 –¥–Ω–µ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
4. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –±–∞–∑–∞ –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤** - —Ç–æ–ª—å–∫–æ 6 –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö

---

## üöÄ –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç

```bash
./deploy-property-complete.sh
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç:**
1. –ó–∞–≥—Ä—É–∑–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –±–æ—Ç–∞
3. –ó–∞–≥—Ä—É–∑–∏—Ç 11,999 –∫–≤–∞—Ä—Ç–∏—Ä –∏–∑ —Ñ–∏–¥–∞ (2-3 –º–∏–Ω—É—Ç—ã)
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

**–í—Ä–µ–º—è: ~5 –º–∏–Ω—É—Ç**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞: https://t.me/YOUR_BOT
2. –ù–∞–∂–∞—Ç—å "üè† –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"
3. –ù–∞–ø–∏—Å–∞—Ç—å: "–ò—â—É 2-–∫–æ–º–Ω–∞—Ç–Ω—É—é –¥–æ 10 –º–ª–Ω"
4. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –®–∞–≥ 3: –¢–µ—Å—Ç –≥–æ–ª–æ—Å–æ–≤—ã—Ö

1. –í —Ä–µ–∂–∏–º–µ "–ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"
2. –ó–∞–ø–∏—Å–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ: "–•–æ—á—É —Å—Ç—É–¥–∏—é –¥–æ 5 –º–∏–ª–ª–∏–æ–Ω–æ–≤"
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∏ –Ω–∞–π—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- ‚úÖ 11,999 –∫–≤–∞—Ä—Ç–∏—Ä –°–ü–± –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç –∏ –≥–æ–ª–æ—Å
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º –∏ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é
- ‚úÖ Dream Score —Ä–∞–Ω–∂–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ POI enrichment (—à–∫–æ–ª—ã, –ø–∞—Ä–∫–∏) —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ó–∞–≥—Ä—É–∂–µ–Ω—ã –ª–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã?

```bash
sshpass -p 'upvzrr3LH4pxsaqs' ssh root@91.229.8.221 \
  "docker exec postgres_calendar psql -U calendar_user -d calendar_bot \
   -c 'SELECT COUNT(*) FROM property_listings;'"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:** ~12,000 (11,999)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –±–æ—Ç?

```bash
sshpass -p 'upvzrr3LH4pxsaqs' ssh root@91.229.8.221 \
  "docker logs --tail 20 telegram-bot"
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:** –Ω–µ—Ç –æ—à–∏–±–æ–∫

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: Feed loader status

```bash
sshpass -p 'upvzrr3LH4pxsaqs' ssh root@91.229.8.221 \
  "docker exec telegram-bot python3 -c '
import sys
sys.path.insert(0, \"/app\")
from app.services.property.feed_loader import feed_loader
print(feed_loader.get_status())
'"
```

---

## ‚ö†Ô∏è –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

### –ü—Ä–æ–±–ª–µ–º–∞: Feed –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤—Ä—É—á–Ω—É—é
sshpass -p 'upvzrr3LH4pxsaqs' ssh root@91.229.8.221 << 'EOF'
cd /root/ai-calendar-assistant
docker exec telegram-bot python3 -c "
import asyncio
import sys
sys.path.insert(0, '/app')
from app.services.property.feed_loader import feed_loader
asyncio.run(feed_loader.update_feed())
"
EOF
```

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã

```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤—Ä—É—á–Ω—É—é
sshpass -p 'upvzrr3LH4pxsaqs' ssh root@91.229.8.221 << 'EOF'
docker exec postgres_calendar psql -U calendar_user -d calendar_bot \
  -f /root/ai-calendar-assistant/migrations/001_add_extended_property_fields.sql
EOF
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
sshpass -p 'upvzrr3LH4pxsaqs' ssh root@91.229.8.221 \
  "docker logs --tail 50 telegram-bot"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sshpass -p 'upvzrr3LH4pxsaqs' ssh root@91.229.8.221 \
  "cd /root/ai-calendar-assistant && docker-compose restart telegram-bot"
```

---

## üì± –ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–∏—Å–∫ –∫–≤–∞—Ä—Ç–∏—Ä—ã —Ç–µ–∫—Å—Ç–æ–º

1. –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞
2. –ù–∞–∂–∞—Ç—å "üè† –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"
3. –ù–∞–ø–∏—Å–∞—Ç—å: "–•–æ—á—É 2-–∫–æ–º–Ω–∞—Ç–Ω—É—é –∫–≤–∞—Ä—Ç–∏—Ä—É –¥–æ 10 –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Å –∏–ø–æ—Ç–µ–∫–æ–π –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ"
4. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–≤–∞—Ä—Ç–∏—Ä, —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ Dream Score
5. –ù–∞–∂–∞—Ç—å –Ω–∞ –∫–≤–∞—Ä—Ç–∏—Ä—É —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–∏—Å–∫ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≥–æ–ª–æ—Å–æ–º

1. –ë—ã—Ç—å –≤ —Ä–µ–∂–∏–º–µ "–ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"
2. –ó–∞–ø–∏—Å–∞—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ò—â—É —Å—Ç—É–¥–∏—é –¥–æ –ø—è—Ç–∏ –º–∏–ª–ª–∏–æ–Ω–æ–≤"
3. –ë–æ—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å (Yandex STT)
4. –ù–∞–π–¥–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã
5. –ü–æ–∫–∞–∂–µ—Ç —Ç–æ–ø-12 –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –í–æ–∑–≤—Ä–∞—Ç –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é

1. –í —Ä–µ–∂–∏–º–µ "–ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"
2. –ù–∞–∂–∞—Ç—å "üîô –ö–∞–ª–µ–Ω–¥–∞—Ä—å"
3. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–∞–±–æ—Ç–µ —Å —Å–æ–±—ã—Ç–∏—è–º–∏

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

**API –∑–∞—Ç—Ä–∞—Ç—ã:**
- Yandex GPT: ~6,000‚ÇΩ/–º–µ—Å—è—Ü –ø—Ä–∏ 1000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- Yandex STT: –≤—Ö–æ–¥–∏—Ç –≤ GPT –∫–≤–æ—Ç—É
- OpenStreetMap (POI): –ë–ï–°–ü–õ–ê–¢–ù–û

**–ò—Ç–æ–≥–æ: ~6,000‚ÇΩ/–º–µ—Å—è—Ü**

---

## ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| Feed Loader | ‚úÖ –ì–æ—Ç–æ–≤ | 11,999 –∫–≤–∞—Ä—Ç–∏—Ä |
| Property Search | ‚úÖ –ì–æ—Ç–æ–≤ | 37 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| Dream Score | ‚úÖ –ì–æ—Ç–æ–≤ | 9 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
| Voice Support | ‚úÖ –ì–æ—Ç–æ–≤ | Yandex STT |
| Menu Switching | ‚úÖ –ì–æ—Ç–æ–≤ | –ö–∞–ª–µ–Ω–¥–∞—Ä—å ‚Üî –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å |
| Database | ‚úÖ –ì–æ—Ç–æ–≤ | PostgreSQL |
| Deployment Script | ‚úÖ –ì–æ—Ç–æ–≤ | deploy-property-complete.sh |

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: 100%** –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

---

## üöÄ –î–ï–ô–°–¢–í–ò–Ø –°–ï–ô–ß–ê–°

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π:
   ```bash
   ./deploy-property-complete.sh
   ```

2. –ü–æ–¥–æ–∂–¥–∞—Ç—å 5 –º–∏–Ω—É—Ç

3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞

4. –ì–æ—Ç–æ–≤–æ! üéâ

---

**–î–∞—Ç–∞:** 2025-10-29
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é
