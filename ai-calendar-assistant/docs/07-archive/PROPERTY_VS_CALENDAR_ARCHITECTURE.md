# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°: Property Bot vs Calendar Bot

**Ğ”Ğ°Ñ‚Ğ°:** 2025-10-30
**Ğ¦ĞµĞ»ÑŒ:** ĞŸĞ¾Ğ½ÑÑ‚ÑŒ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ñ Ğ¸ Ğ¿ĞµÑ€ĞµÑĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ²ÑƒÑ… Ğ±Ğ¾Ñ‚Ğ¾Ğ²

---

## ğŸ—ï¸ Ğ’Ğ«Ğ¡ĞĞšĞĞ£Ğ ĞĞ’ĞĞ•Ğ’ĞĞ¯ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   TELEGRAM BOT TOKEN                         â”‚
â”‚            (Ğ¾Ğ´Ğ¸Ğ½ Ñ‚Ğ¾ĞºĞµĞ½ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ğ¸Ñ… Ğ±Ğ¾Ñ‚Ğ¾Ğ²)                      â”‚
â”‚                                                              â”‚
â”‚  Webhook: https://ÑÑ‚Ğ¾Ğ½ĞµÑĞ°Ğ¼Ñ‹Ğ¹Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹Ğ´Ğ¾Ğ¼ĞµĞ½.Ñ€Ñ„/telegram/webhook â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              app/routers/telegram.py                         â”‚
â”‚                                                              â”‚
â”‚  - ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ webhook Ğ¾Ñ‚ Telegram                             â”‚
â”‚  - ĞŸĞ°Ñ€ÑĞ¸Ñ‚ Update Ğ¾Ğ±ÑŠĞµĞºÑ‚                                     â”‚
â”‚  - ĞŸĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ Ğ² telegram_handler.py                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          app/services/telegram_handler.py                    â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚: user_bot_modes.current_mode  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                    â”‚                                         â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚       â–¼                          â–¼                          â”‚
â”‚  BotMode.CALENDAR          BotMode.PROPERTY                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                          â”‚
        â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CALENDAR BOT     â”‚    â”‚   PROPERTY BOT         â”‚
â”‚                   â”‚    â”‚                        â”‚
â”‚  Port: 8000       â”‚    â”‚   Port: 8001 (plan)    â”‚
â”‚  âœ… Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢      â”‚    â”‚   âŒ ĞĞ• Ğ—ĞĞŸĞ£Ğ©Ğ•Ğ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Ğ¡Ğ ĞĞ’ĞĞ˜Ğ¢Ğ•Ğ›Ğ¬ĞĞĞ¯ Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ

| ĞÑĞ¿ĞµĞºÑ‚ | Calendar Bot | Property Bot | ĞŸĞµÑ€ĞµÑĞµÑ‡ĞµĞ½Ğ¸Ğµ? |
|--------|-------------|--------------|--------------|
| **Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…** | SQLite (Ñ‡ĞµÑ€ĞµĞ· Radicale) | PostgreSQL | âŒ ĞĞ•Ğ¢ - Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ğ‘Ğ” |
| **ĞŸĞ¾Ñ€Ñ‚** | 8000 | 8001 (Ğ¿Ğ»Ğ°Ğ½) | âŒ ĞĞ•Ğ¢ |
| **Docker compose** | docker-compose.yml | docker-compose.property.yml | âŒ ĞĞ•Ğ¢ - Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ |
| **Telegram Ñ‚Ğ¾ĞºĞµĞ½** | TELEGRAM_BOT_TOKEN | TELEGRAM_BOT_TOKEN | âœ… Ğ”Ğ - Ğ¾Ğ´Ğ¸Ğ½ Ñ‚Ğ¾ĞºĞµĞ½ |
| **Webhook** | /telegram/webhook | /telegram/webhook | âœ… Ğ”Ğ - Ğ¾Ğ´Ğ¸Ğ½ endpoint |
| **Telegram handler** | telegram_handler.py | telegram_handler.py | âœ… Ğ”Ğ - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ñ€ĞµĞ¶Ğ¸Ğ¼ |
| **ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹** | telegram-bot, radicale | property-bot, property-db | âŒ ĞĞ•Ğ¢ - Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ |
| **Volumes** | calendar_data, radicale_data | property-db-data, property-bot-cache | âŒ ĞĞ•Ğ¢ |
| **Ğ¡ĞµÑ‚Ğ¸** | backend (default) | property-bot-network | âŒ ĞĞ•Ğ¢ - Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ÑĞµÑ‚Ğ¸ |
| **AI Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ** | Yandex GPT (STT) | Yandex GPT (NLU) | âš ï¸ Ğ§ĞĞ¡Ğ¢Ğ˜Ğ§ĞĞ - Ñ€Ğ°Ğ·Ğ½Ğ¾Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ |

---

## ğŸ”„ ĞšĞĞš Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ ĞŸĞ•Ğ Ğ•ĞšĞ›Ğ®Ğ§Ğ•ĞĞ˜Ğ• Ğ Ğ•Ğ–Ğ˜ĞœĞĞ’

### Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° user_bot_modes

Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑÑ Ğ² PostgreSQL (property Ğ±Ğ¾Ñ‚):

```sql
CREATE TABLE user_bot_modes (
    telegram_user_id VARCHAR PRIMARY KEY,
    current_mode VARCHAR DEFAULT 'calendar',  -- 'calendar' Ğ¸Ğ»Ğ¸ 'property'
    active_client_id VARCHAR,                 -- ID ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ² property Ğ±Ğ¾Ñ‚Ğµ
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

### ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:

```python
# Ğ’ telegram_handler.py (Ğ¿Ğ¾ÑĞ»Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸)

async def handle_update(self, update: Update):
    user_id = str(update.effective_user.id)
    text = update.message.text

    # 1. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ¶Ğ¸Ğ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
    current_mode = await property_service.get_user_mode(user_id)
    # ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: BotMode.CALENDAR

    # 2. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ
    if text == "ğŸ  ĞŸĞ¾Ğ¸ÑĞº Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸":
        await property_service.set_user_mode(user_id, BotMode.PROPERTY)
        await property_handler.handle_mode_switch(update, user_id, BotMode.PROPERTY)
        return

    if text == "ğŸ”™ ĞšĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€ÑŒ":
        await property_service.set_user_mode(user_id, BotMode.CALENDAR)
        await property_handler.handle_mode_switch(update, user_id, BotMode.CALENDAR)
        return

    # 3. ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ…ĞµĞ½Ğ´Ğ»ĞµÑ€
    if current_mode == BotMode.PROPERTY:
        await property_handler.handle_property_message(update, user_id, text)
    else:
        # Ğ¡ÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ
        await self._handle_calendar_message(update, user_id, text)
```

---

## ğŸ—„ï¸ Ğ‘ĞĞ—Ğ« Ğ”ĞĞĞĞ«Ğ¥

### Calendar Bot - SQLite

**Ğ“Ğ´Ğµ:** `/var/lib/radicale/collection-root/`

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
```
calendar_data/
â”œâ”€â”€ {user_id}/
â”‚   â””â”€â”€ calendar.ics/
â”‚       â”œâ”€â”€ events.ics      # Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
â”‚       â””â”€â”€ .Radicale.props # ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
```

**Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ (Ğ½ĞµÑĞ²Ğ½Ñ‹Ğµ - Ñ‡ĞµÑ€ĞµĞ· .ics Ñ„Ğ°Ğ¹Ğ»Ñ‹):**
- Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ (VEVENT)
- Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ (VTODO)
- ĞĞ°Ğ¿Ğ¾Ğ¼Ğ¸Ğ½Ğ°Ğ½Ğ¸Ñ (VALARM)

**Ğ”Ğ¾ÑÑ‚ÑƒĞ¿:**
- Ğ§ĞµÑ€ĞµĞ· CalDAV API (Ğ¿Ğ¾Ñ€Ñ‚ 5232)
- Python Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ°: caldav

---

### Property Bot - PostgreSQL

**Ğ“Ğ´Ğµ:** Docker volume `property-bot-db-data`

**Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:**
```
property_bot database
â”œâ”€â”€ property_clients       # ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”œâ”€â”€ property_listings      # ĞĞ±ÑŠĞµĞºÑ‚Ñ‹ Ğ½ĞµĞ´Ğ²Ğ¸Ğ¶Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”œâ”€â”€ property_selections    # ĞŸĞ¾Ğ´Ğ±Ğ¾Ñ€ĞºĞ¸ Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
â”œâ”€â”€ selection_items        # ĞĞ±ÑŠĞµĞºÑ‚Ñ‹ Ğ² Ğ¿Ğ¾Ğ´Ğ±Ğ¾Ñ€ĞºĞ°Ñ…
â”œâ”€â”€ selection_feedback     # Ğ›Ğ°Ğ¹ĞºĞ¸/Ğ´Ğ¸Ğ·Ğ»Ğ°Ğ¹ĞºĞ¸
â””â”€â”€ user_bot_modes         # Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ âš ï¸ Ğ’ĞĞ–ĞĞ
```

**Ğ”Ğ¾ÑÑ‚ÑƒĞ¿:**
- Port: 5433 (Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğµ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ host PostgreSQL)
- Connection string: `postgresql://property_user:password@property-db:5432/property_bot`

---

## ğŸ”Œ Ğ¢ĞĞ§ĞšĞ˜ ĞŸĞ•Ğ Ğ•Ğ¡Ğ•Ğ§Ğ•ĞĞ˜Ğ¯

### 1. Telegram Webhook (Ğ•Ğ”Ğ˜ĞĞ¡Ğ¢Ğ’Ğ•ĞĞĞĞ¯ Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°)

```python
# app/routers/telegram.py

@router.post("/webhook")
async def telegram_webhook(request: Request):
    """
    ĞĞ”Ğ˜Ğ endpoint Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ğ¸Ñ… Ğ±Ğ¾Ñ‚Ğ¾Ğ².
    Ğ Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ telegram_handler.py
    """
    data = await request.json()
    update = Update.de_json(data, telegram_app)

    # ĞŸĞµÑ€ĞµĞ´Ğ°ĞµĞ¼ Ğ² ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ handler
    await telegram_handler.handle_update(update)
```

### 2. Telegram Handler (Ñ€Ğ¾ÑƒÑ‚ĞµÑ€ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ±Ğ¾Ñ‚Ğ°Ğ¼Ğ¸)

```python
# app/services/telegram_handler.py

class TelegramHandler:
    async def handle_update(self, update: Update):
        # Ğ—Ğ”Ğ•Ğ¡Ğ¬ Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¼Ğ°Ğ³Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ

        user_id = str(update.effective_user.id)
        mode = await property_service.get_user_mode(user_id)

        if mode == BotMode.PROPERTY:
            # â†’ Property Bot
            await property_handler.handle_property_message(...)
        else:
            # â†’ Calendar Bot
            await self._handle_calendar_message(...)
```

### 3. ĞĞ±Ñ‰Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸

**Python Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ (Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ requirements.txt):**
- `python-telegram-bot` - Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ğ¸Ñ…
- `yandex-cloud` - Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ğ¸Ñ… (Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ API)
- `structlog` - Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ğ¸Ñ…
- `fastapi` - Ğ´Ğ»Ñ Ğ¾Ğ±Ğ¾Ğ¸Ñ…
- `sqlalchemy` - Ğ´Ğ»Ñ Property Bot
- `caldav` - Ğ´Ğ»Ñ Calendar Bot

**Docker compose (Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ Ğ¾Ğ´Ğ¸Ğ½ .env):**
```yaml
# docker-compose.yml - Calendar Bot
environment:
  TELEGRAM_BOT_TOKEN: ${TELEGRAM_BOT_TOKEN}  # â† Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½
  YANDEX_GPT_API_KEY: ${YANDEX_GPT_API_KEY} # â† Ğ¾Ğ±Ñ‰Ğ¸Ğ¹ ĞºĞ»ÑÑ‡

# docker-compose.property.yml - Property Bot
environment:
  TELEGRAM_BOT_TOKEN: ${TELEGRAM_BOT_TOKEN}  # â† Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ Ñ‚Ğ¾ĞºĞµĞ½
  YANDEX_GPT_API_KEY: ${YANDEX_GPT_API_KEY} # â† Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ ĞºĞ»ÑÑ‡
```

---

## âŒ Ğ¢ĞĞ§ĞšĞ˜ Ğ˜Ğ—ĞĞ›Ğ¯Ğ¦Ğ˜Ğ˜

### 1. ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹

**Calendar Bot:**
```yaml
services:
  telegram-bot:     # Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€
  radicale:         # CalDAV ÑĞµÑ€Ğ²ĞµÑ€
networks:
  backend:          # ÑĞµÑ‚ÑŒ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ
```

**Property Bot:**
```yaml
services:
  property-bot:     # Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€
  property-db:      # PostgreSQL
networks:
  property-network: # Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ°Ñ ÑĞµÑ‚ÑŒ
```

**ĞĞµÑ‚ ÑĞµÑ‚ĞµĞ²Ğ¾Ğ³Ğ¾ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ½Ğ¸Ğ¼Ğ¸!**

### 2. Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ

**Calendar Bot:**
- Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ² `/var/lib/radicale/`
- Backup: ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ .ics Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

**Property Bot:**
- Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ²ÑĞµ Ğ² PostgreSQL
- Backup: pg_dump

**ĞĞµÑ‚ shared storage!**

### 3. API endpoints

**Calendar Bot:**
```
GET  /telegram/status
POST /telegram/webhook
GET  /api/events
POST /api/events
```

**Property Bot (Ğ¿Ğ¾ÑĞ»Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸):**
```
GET  /api/property/clients
POST /api/property/search
GET  /api/property/selections
GET  /api/property/feed/status
```

**Ğ Ğ°Ğ·Ğ½Ñ‹Ğµ Ğ¿Ñ€ĞµÑ„Ğ¸ĞºÑÑ‹!**

---

## ğŸ¤” ĞŸĞĞ§Ğ•ĞœĞ£ Ğ’Ğ«Ğ‘Ğ ĞĞĞ Ğ¢ĞĞšĞĞ¯ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ?

### Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ 1: ĞĞ´Ğ¸Ğ½ Telegram Ñ‚Ğ¾ĞºĞµĞ½

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:**
- ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ ĞĞ”Ğ˜Ğ Ğ±Ğ¾Ñ‚ Ğ² Telegram
- ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ² UI
- ĞĞµ Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑÑ‚ÑŒ 2 Ğ±Ğ¾Ñ‚Ğ°

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° (Ğ½Ğµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ°):**
- Ğ”Ğ²Ğ° Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ±Ğ¾Ñ‚Ğ° Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğ¼Ğ¸ Ñ‚Ğ¾ĞºĞµĞ½Ğ°Ğ¼Ğ¸
- ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¾Ğ±Ğ°
- ĞœĞ¸Ğ½ÑƒÑ: Ğ¿ÑƒÑ‚Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

### Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ 2: Ğ Ğ°Ğ·Ğ½Ñ‹Ğµ Ğ‘Ğ” (SQLite vs PostgreSQL)

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:**
- Calendar Bot Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ±Ñ‹Ğ» Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ğ¼ (SQLite Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾)
- Property Bot Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ (PostgreSQL Ğ»ÑƒÑ‡ÑˆĞµ)
- Radicale Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹ (.ics)

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° (Ğ½Ğµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ°):**
- Ğ’ÑĞµ Ğ² PostgreSQL
- ĞœĞ¸Ğ½ÑƒÑ: Ğ½ÑƒĞ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ¿Ğ¸ÑÑ‹Ğ²Ğ°Ñ‚ÑŒ Calendar Bot
- ĞœĞ¸Ğ½ÑƒÑ: Ñ‚ĞµÑ€ÑĞµÑ‚ÑÑ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ CalDAV

### Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ 3: ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:**
- ĞĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° (Ğ½Ğµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ°):**
- ĞœĞ¾Ğ½Ğ¾Ğ»Ğ¸Ñ‚ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğµ
- ĞœĞ¸Ğ½ÑƒÑ: ÑĞ»Ğ¾Ğ¶Ğ½ĞµĞµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ
- ĞœĞ¸Ğ½ÑƒÑ: Ğ¾ÑˆĞ¸Ğ±ĞºĞ° Ğ² Property Ñ€Ğ¾Ğ½ÑĞµÑ‚ Calendar

---

## ğŸš¨ Ğ¢Ğ•ĞšĞ£Ğ©ĞĞ¯ ĞŸĞ ĞĞ‘Ğ›Ğ•ĞœĞ

### Property Bot Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½

**Ğ§Ñ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:**
- âœ… Telegram webhook Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
- âœ… telegram_handler.py Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚
- âœ… ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: BotMode.CALENDAR

**Ğ§Ñ‚Ğ¾ ĞĞ• Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:**
- âŒ Property Bot ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½
- âŒ PostgreSQL Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½
- âŒ ĞŸÑ€Ğ¸ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞµ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ¶Ğ¸Ğ¼ â†’ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°
- âŒ ĞĞµÑ‚ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ `user_bot_modes`

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ:**
```python
# app/main.py - ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ·Ğ°ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹
# from app.routers import property  â† Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½
# app.include_router(property.router)  â† Ñ€Ğ¾ÑƒÑ‚ĞµÑ€ Ğ½Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½
```

---

## ğŸ”§ Ğ§Ğ¢Ğ ĞĞ£Ğ–ĞĞ Ğ¡Ğ”Ğ•Ğ›ĞĞ¢Ğ¬

### Ğ¨Ğ°Ğ³ 1: Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ PostgreSQL
```bash
docker-compose -f docker-compose.property.yml up -d property-db
```

### Ğ¨Ğ°Ğ³ 2: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
```bash
docker-compose -f docker-compose.property.yml exec property-db \
  psql -U property_user -d property_bot < migrations/001_add_extended_property_fields.sql
```

### Ğ¨Ğ°Ğ³ 3: ĞĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² ĞºĞ¾Ğ´Ğµ
```python
# app/main.py
from app.routers import property  # â† Ñ€Ğ°ÑĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ
app.include_router(property.router, prefix="/api/property")
```

### Ğ¨Ğ°Ğ³ 4: ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ telegram_handler.py
```python
# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° (ÑĞ¼. Ğ²Ñ‹ÑˆĞµ)
```

### Ğ¨Ğ°Ğ³ 5: ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ±Ğ¾Ñ‚Ğ°
```bash
docker-compose restart telegram-bot
```

---

## ğŸ“ˆ Ğ‘Ğ£Ğ”Ğ£Ğ©ĞĞ¯ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ (Ğ¿Ğ¾ÑĞ»Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ğ¸)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     TELEGRAM BOT (ĞµĞ´Ğ¸Ğ½Ğ°Ñ Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°)   â”‚
â”‚                                         â”‚
â”‚  Webhook â†’ telegram_handler.py          â”‚
â”‚              â†“                          â”‚
â”‚     ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° user_bot_modes             â”‚
â”‚              â†“                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                    â”‚
â”‚         â–¼          â–¼                    â”‚
â”‚   Calendar    Property                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Ğ˜Ğ—ĞĞ›Ğ˜Ğ ĞĞ’ĞĞĞĞ«Ğ• Ğ¡Ğ•Ğ Ğ’Ğ˜Ğ¡Ğ«:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Calendar Bot    â”‚    â”‚  Property Bot    â”‚
â”‚                  â”‚    â”‚                  â”‚
â”‚  - SQLite        â”‚    â”‚  - PostgreSQL    â”‚
â”‚  - Radicale      â”‚    â”‚  - Feed Loader   â”‚
â”‚  - Port 5232     â”‚    â”‚  - AI scoring    â”‚
â”‚  - CalDAV API    â”‚    â”‚  - Enrichment    â”‚
â”‚                  â”‚    â”‚                  â”‚
â”‚  Volume:         â”‚    â”‚  Volume:         â”‚
â”‚  calendar_data   â”‚    â”‚  property-db-dataâ”‚
â”‚                  â”‚    â”‚                  â”‚
â”‚  Network:        â”‚    â”‚  Network:        â”‚
â”‚  backend         â”‚    â”‚  property-networkâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–²                       â–²
       â”‚                       â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        Ğ¢ĞĞ›Ğ¬ĞšĞ Ñ‡ĞµÑ€ĞµĞ· Telegram handler
        (Ğ½ĞµÑ‚ Ğ¿Ñ€ÑĞ¼Ğ¾Ğ³Ğ¾ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ)
```

---

## ğŸ’¡ Ğ’Ğ«Ğ’ĞĞ”Ğ«

### âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ:

1. **ĞĞ´Ğ¸Ğ½ Telegram Ñ‚Ğ¾ĞºĞµĞ½** - ÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
2. **Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²** - Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ
3. **Graceful degradation** - Property Bot Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ±ĞµĞ· Ğ²ÑĞµÑ… API
4. **Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ** - Ğ³Ğ¸Ğ±ĞºĞ¾Ğµ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ

### âš ï¸ ĞŸĞ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ:

1. **ĞĞ±Ñ‰Ğ°Ñ Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ**
   - Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ: ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ±Ğ¾Ñ‚ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ²Ğ¾Ğ¸Ğ¼Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
   - Ğ›ÑƒÑ‡ÑˆĞµ: ĞµĞ´Ğ¸Ğ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° users

2. **ĞĞ±Ñ‰ĞµĞµ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**
   - Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ: Ğ»Ğ¾Ğ³Ğ¸ Ñ€Ğ°Ğ·Ğ±Ñ€Ğ¾ÑĞ°Ğ½Ñ‹
   - Ğ›ÑƒÑ‡ÑˆĞµ: Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ELK stack

3. **Shared Redis Ğ´Ğ»Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ**
   - Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ: ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ telegram_handler
   - Ğ›ÑƒÑ‡ÑˆĞµ: Redis Ğ´Ğ»Ñ conversation state

4. **API Gateway**
   - Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ: Ğ¿Ñ€ÑĞ¼Ğ¾Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼
   - Ğ›ÑƒÑ‡ÑˆĞµ: ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ API Gateway

---

## ğŸ¯ Ğ Ğ•Ğ—Ğ®ĞœĞ•

| Ğ’Ğ¾Ğ¿Ñ€Ğ¾Ñ | ĞÑ‚Ğ²ĞµÑ‚ |
|--------|-------|
| **Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ»Ğ¸ Property Bot?** | âŒ ĞĞ•Ğ¢ - Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½ |
| **Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ»Ğ¸ Ğ¾Ñ‚ Calendar?** | âœ… Ğ”Ğ - Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹, Ğ‘Ğ”, ÑĞµÑ‚Ğ¸ |
| **ĞŸĞµÑ€ĞµÑĞµĞºĞ°ÑÑ‚ÑÑ Ğ»Ğ¸ Ğ¾Ğ½Ğ¸?** | âš ï¸ Ğ§ĞĞ¡Ğ¢Ğ˜Ğ§ĞĞ - Ñ‡ĞµÑ€ĞµĞ· Telegram webhook Ğ¸ handler |
| **ĞÑƒĞ¶ĞµĞ½ Ğ»Ğ¸ PostgreSQL?** | âœ… Ğ”Ğ - Ğ´Ğ»Ñ Property Bot (Calendar Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ SQLite) |
| **ĞĞºÑ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ° Ğ»Ğ¸ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° PostgreSQL Ğ´Ğ»Ñ ĞºĞ°Ğ»ĞµĞ½Ğ´Ğ°Ñ€Ñ?** | âŒ ĞĞ•Ğ¢ - SQLite Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾, Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğµ Ğ½ÑƒĞ¶Ğ½Ğ° |

---

**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ ÑˆĞ°Ğ³:** ĞĞºÑ‚Ğ¸Ğ²Ğ°Ñ†Ğ¸Ñ Property Bot Ğ¿Ğ¾ [PROPERTY_BOT_ACTIVATION_PLAN.md](PROPERTY_BOT_ACTIVATION_PLAN.md)
