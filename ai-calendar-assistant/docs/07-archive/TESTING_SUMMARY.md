# –°–≤–æ–¥–∫–∞ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã

**–î–∞—Ç–∞:** 30 –æ–∫—Ç—è–±—Ä—è 2025
**Telegram –±–æ—Ç:** @aibroker_bot
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç

---

## –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

### ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (–≥–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é)

**Telegram –±–æ—Ç-–∫–∞–ª–µ–Ω–¥–∞—Ä—å** - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- –ò–º—è: AI-bot - Estate
- Username: @aibroker_bot
- ID: 8378762774
- –†–µ–∂–∏–º: Long Polling (—Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- LLM: Yandex GPT (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–æ—Å—Å–∏–∏ –±–µ–∑ VPN)

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
1. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (—Ç–µ–∫—Å—Ç –∏ –≥–æ–ª–æ—Å)
2. ‚úÖ Batch —Å–æ–∑–¥–∞–Ω–∏–µ (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è)
3. ‚úÖ Recurring —Å–æ–±—ã—Ç–∏—è (daily/weekly/monthly)
4. ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π
5. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
6. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π (–æ–¥–∏–Ω–æ—á–Ω–æ–µ –∏ –º–∞—Å—Å–æ–≤–æ–µ)
7. ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ (clarify)
8. ‚úÖ –ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞
9. ‚úÖ –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å (RU/EN/ES/AR)
10. ‚úÖ CalDAV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Radicale)

---

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

**–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è**
- URL: https://—ç—Ç–æ–Ω–µ—Å–∞–º—ã–π–¥–ª–∏–Ω–Ω—ã–π–¥–æ–º–µ–Ω.—Ä—Ñ
- –°—Ç–∞—Ç—É—Å: –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS
- –ö–Ω–æ–ø–∫–∞ –≤ –±–æ—Ç–µ: "üóì –ö–∞–±–∏–Ω–µ—Ç" (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

**Yandex GPT API –∫–ª—é—á–∏**
- –í .env —É–∫–∞–∑–∞–Ω–æ: `YOUR_YANDEX_GPT_API_KEY_HERE`
- –¢—Ä–µ–±—É–µ—Ç—Å—è: –†–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –æ—Ç Yandex Cloud
- –ë–µ–∑ –Ω–∏—Ö LLM —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è**
- Event reminders: –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- Daily reminders: –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏: –†–µ–∞–ª—å–Ω–æ –ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è

---

### ‚ùå –ù–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ

**–ë–æ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏**
- –ö–æ–¥ –≥–æ—Ç–æ–≤: ‚úÖ
- Docker compose –≥–æ—Ç–æ–≤: ‚úÖ
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: ‚ùå –ù–µ –∑–∞–ø—É—â–µ–Ω–∞
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: ‚ùå –ù–µ –∑–∞–ø—É—â–µ–Ω
- –¢—Ä–µ–±—É–µ—Ç—Å—è: –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

**–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –±–æ—Ç–∞–º–∏**
- –ö–æ–¥ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω (graceful fallback)
- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: –ë–æ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç

---

## –ß—Ç–æ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

### Telegram –±–æ—Ç (@aibroker_bot)

**–û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞:**
1. Telegram ‚Üí –ü–æ–∏—Å–∫ ‚Üí @aibroker_bot
2. –ò–ª–∏: https://t.me/aibroker_bot
3. –ù–∞–∂–∞—Ç—å Start

**–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç (5 –º–∏–Ω—É—Ç):**
```
1. /start
2. –í—Å—Ç—Ä–µ—á–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º –∑–∞–≤—Ç—Ä–∞ –≤ 15:00
3. –ß—Ç–æ —É –º–µ–Ω—è –∑–∞–≤—Ç—Ä–∞?
4. –ü–µ—Ä–µ–Ω–µ—Å–∏ –≤—Å—Ç—Ä–µ—á—É –Ω–∞ 17:00
5. –£–¥–∞–ª–∏ –≤—Å—Ç—Ä–µ—á—É —Å –∫–ª–∏–µ–Ω—Ç–æ–º
```

**–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç (15 –º–∏–Ω—É—Ç):**
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (batch)
- Recurring —Å–æ–±—ã—Ç–∏—è
- –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- Clarify –¥–∏–∞–ª–æ–≥–∏

**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:** –°–º. [TESTING_INSTRUCTIONS.md](TESTING_INSTRUCTIONS.md)

---

## –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä–æ—Å—Ç–æ–µ —Å–æ–±—ã—Ç–∏–µ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –í—Å—Ç—Ä–µ—á–∞ —Å –ò–≤–∞–Ω–æ–≤—ã–º –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ –≤ 14:00
–û–∂–∏–¥–∞–µ—Ç—Å—è: –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
–°–æ–∑–¥–∞–π —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫:
09:00-10:00 –£—Ç—Ä–µ–Ω–Ω—è—è –ø–ª–∞–Ω–µ—Ä–∫–∞
10:00-12:00 –ü–æ–∫–∞–∑ –∫–≤–∞—Ä—Ç–∏—Ä—ã
14:00-15:00 –í—Å—Ç—Ä–µ—á–∞ —Å –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–º

–û–∂–∏–¥–∞–µ—Ç—Å—è: Batch —Å–æ–∑–¥–∞–Ω–∏–µ 3 —Å–æ–±—ã—Ç–∏–π, –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Recurring —Å–æ–±—ã—Ç–∏–µ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00 –∑–∞—Ä—è–¥–∫–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é
–û–∂–∏–¥–∞–µ—Ç—Å—è: –°–æ–∑–¥–∞–Ω–æ 7 —Å–æ–±—ã—Ç–∏–π (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –£–¥–∞–ª–∏ –≤—Å–µ –ø–æ–∫–∞–∑—ã
–û–∂–∏–¥–∞–µ—Ç—Å—è: –ù–∞–π–¥–µ–Ω—ã –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å "–ø–æ–∫–∞–∑", –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: Clarify (–Ω–µ–¥–æ—Å—Ç–∞—é—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –í—Å—Ç—Ä–µ—á–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–º
–ë–æ—Ç: –ö–æ–≥–¥–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É?
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ó–∞–≤—Ç—Ä–∞ –≤ 15:00
–û–∂–∏–¥–∞–µ—Ç—Å—è: –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### Backend
- **Framework:** FastAPI
- **Language:** Python 3.11+
- **LLM:** Yandex GPT (YandexGPT Foundation Models)
- **STT:** Yandex SpeechKit
- **Calendar:** Radicale CalDAV

### Storage
- **Events:** Radicale CalDAV (–º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π)
- **User data:** JSON files –≤ `/var/lib/calendar-bot/`
- **Logs:** `/app/logs/`

### Deployment
- **Platform:** Docker Compose
- **Server:** 91.229.8.221
- **Mode:** Polling (–±–µ–∑ webhook)
- **Containers:**
  - `telegram-bot-polling` - Telegram –±–æ—Ç
  - `radicale-calendar` - CalDAV —Å–µ—Ä–≤–µ—Ä
  - `ai-calendar-assistant` - Backend API (–ø–æ—Ä—Ç 8000)

### Security
- ‚úÖ Telegram WebApp HMAC authentication
- ‚úÖ CORS –∑–∞—â–∏—Ç–∞
- ‚úÖ Rate limiting (20 req/day)
- ‚úÖ Webhook secret token (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- ‚úÖ Radicale authentication

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. Yandex GPT API –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
**–í–ª–∏—è–Ω–∏–µ:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ (–±–æ—Ç –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ LLM)
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ –≤ Yandex Cloud, –æ–±–Ω–æ–≤–∏—Ç—å .env

### 2. Polling –≤–º–µ—Å—Ç–æ Webhook
**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ (–º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è production)
**–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –¥–ª—è production

### 3. Conversation history –≤ –ø–∞–º—è—Ç–∏
**–í–ª–∏—è–Ω–∏–µ:** –ù–∏–∑–∫–æ–µ (—Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ)
**–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –∑–∞–¥–∞—á
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –∏–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### 4. WebApp –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
**–í–ª–∏—è–Ω–∏–µ:** –°—Ä–µ–¥–Ω–µ–µ (–Ω–µ—Ç UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS
**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω –∏ SSL

### 5. –ë–æ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
**–í–ª–∏—è–Ω–∏–µ:** –í—ã—Å–æ–∫–æ–µ (–ø–æ–ª–æ–≤–∏–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
**–°—Ç–∞—Ç—É—Å:** –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å docker-compose.property.yml

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Yandex GPT API (–ö—Ä–∏—Ç–∏—á–Ω–æ!)
```bash
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ Yandex Cloud Console
2. –°–æ–∑–¥–∞—Ç—å API –∫–ª—é—á –¥–ª—è Yandex GPT
3. –û–±–Ω–æ–≤–∏—Ç—å .env –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
   YANDEX_GPT_API_KEY=–≤–∞—à_–∫–ª—é—á
   YANDEX_GPT_FOLDER_ID=–≤–∞—à_folder_id
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞: docker restart telegram-bot-polling
```

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–æ—Ç–∞
```
- –û—Ç–∫—Ä—ã—Ç—å @aibroker_bot
- –ü—Ä–æ–π—Ç–∏ –±–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç (5 –º–∏–Ω—É—Ç)
- –ü—Ä–æ–π—Ç–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç (15 –º–∏–Ω—É—Ç)
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebApp
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
curl https://—ç—Ç–æ–Ω–µ—Å–∞–º—ã–π–¥–ª–∏–Ω–Ω—ã–π–¥–æ–º–µ–Ω.—Ä—Ñ

# –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å A-–∑–∞–ø–∏—Å—å –¥–æ–º–µ–Ω–∞
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (Let's Encrypt)
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### 4. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –±–æ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
```bash
cd /root/ai-calendar-assistant
docker-compose -f docker-compose.property.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
docker ps | grep property
docker logs property-bot-app
```

### 5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook (–¥–ª—è production)
```bash
# –ü–æ–ª—É—á–∏—Ç—å –¥–æ–º–µ–Ω webhook
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ Telegram
curl -X POST "https://api.telegram.org/bot<TOKEN>/setWebhook" \
  -d "url=https://–≤–∞—à_–¥–æ–º–µ–Ω/telegram/webhook" \
  -d "secret_token=<SECRET>"
```

---

## –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤ LLM

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–º–ø—Ç–∞ Yandex GPT

**–§–∞–π–ª:** [app/services/llm_agent_yandex.py](app/services/llm_agent_yandex.py)

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è LLM:**
1. ‚úÖ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ intent (create/update/delete/query)
2. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞—Ç (–∑–∞–≤—Ç—Ä–∞, –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞)
3. ‚úÖ Recurring —Å–æ–±—ã—Ç–∏—è (daily/weekly/monthly)
4. ‚úÖ Batch —Å–æ–∑–¥–∞–Ω–∏–µ (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:MM-HH:MM)
5. ‚úÖ Delete by criteria (–º–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
6. ‚úÖ Clarify –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
7. ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–û–∂–∏–¥–∞–µ–º–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å:**
- –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã: 95%+
- –°–ª–æ–∂–Ω—ã–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è: 90%+
- Recurring: 90%+
- –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: 85%+

**–¢—Ä–µ–±—É–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- Edge cases (–Ω–µ–æ–±—ã—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞—Ç)
- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ—Å—Ç—å
- –î–ª–∏–Ω–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

---

## –§–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [app/main.py](app/main.py) - Entry point, FastAPI app
- [app/services/telegram_handler.py](app/services/telegram_handler.py) - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
- [app/services/llm_agent_yandex.py](app/services/llm_agent_yandex.py) - LLM –∞–≥–µ–Ω—Ç
- [app/services/calendar_radicale.py](app/services/calendar_radicale.py) - CalDAV –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [app/services/stt_yandex.py](app/services/stt_yandex.py) - Speech-to-Text

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- [docker-compose.yml](docker-compose.yml) - –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±–æ—Ç
- [docker-compose.property.yml](docker-compose.property.yml) - –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –±–æ—Ç
- [.env](.env) - Environment variables

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [MANUAL_TESTING_REPORT.md](MANUAL_TESTING_REPORT.md) - –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
- [TESTING_INSTRUCTIONS.md](TESTING_INSTRUCTIONS.md) - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –¥–æ—Å—Ç—É–ø—ã

### Telegram –±–æ—Ç
- Username: @aibroker_bot
- Name: AI-bot - Estate
- ID: 8378762774
- Token: `***REDACTED_BOT_TOKEN***`

### –°–µ—Ä–≤–µ—Ä
- IP: 91.229.8.221
- User: root
- Password: upvzrr3LH4pxsaqs
- Path: /root/ai-calendar-assistant

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
# SSH
ssh root@91.229.8.221

# Docker
docker ps
docker logs telegram-bot-polling --tail 50

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞–º–µ–Ω–∏—Ç–µ USER_ID)
docker logs telegram-bot-polling 2>&1 | grep "USER_ID"
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–ò–∑—É—á–µ–Ω –∫–æ–¥ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
2. ‚úÖ **–°–æ–∑–¥–∞–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç** ([MANUAL_TESTING_REPORT.md](MANUAL_TESTING_REPORT.md))
3. ‚úÖ **–°–æ–∑–¥–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** ([TESTING_INSTRUCTIONS.md](TESTING_INSTRUCTIONS.md))
4. ‚è≥ **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Yandex GPT API** (—Ç—Ä–µ–±—É–µ—Ç—Å—è)
5. ‚è≥ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤—Ä—É—á–Ω—É—é** (—Ç—Ä–µ–±—É–µ—Ç—Å—è)
6. ‚è≥ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebApp** (—Ç—Ä–µ–±—É–µ—Ç—Å—è)
7. ‚è≥ **–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –±–æ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏** (—Ç—Ä–µ–±—É–µ—Ç—Å—è)
8. ‚è≥ **–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç –æ –±–∞–≥–∞—Ö** (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

---

## –í—ã–≤–æ–¥—ã

### –ß—Ç–æ —Ö–æ—Ä–æ—à–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ (—á–∏—Å—Ç–∞—è, –º–æ–¥—É–ª—å–Ω–∞—è)
- ‚úÖ LLM –ø—Ä–æ–º–ø—Ç (–¥–µ—Ç–∞–ª—å–Ω—ã–π, –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –º–Ω–æ–≥–æ —Å–ª—É—á–∞–µ–≤)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (HMAC, CORS, rate limiting)
- ‚úÖ Recurring —Å–æ–±—ã—Ç–∏—è (—É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ñ–∏—á–∞)
- ‚úÖ Batch —Å–æ–∑–¥–∞–Ω–∏–µ (—É–¥–æ–±–Ω–æ –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π)
- ‚úÖ Graceful degradation (–µ—Å–ª–∏ property bot –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω)

### –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è
- ‚ö†Ô∏è WebApp –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç
- ‚ö†Ô∏è Yandex API –∫–ª—é—á–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚ö†Ô∏è Polling –≤–º–µ—Å—Ç–æ webhook
- ‚ö†Ô∏è In-memory storage –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ö†Ô∏è –ë–æ—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞
**–ë–æ—Ç-–∫–∞–ª–µ–Ω–¥–∞—Ä—å:** 8/10 (–≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API)
**–ë–æ—Ç-–Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å:** 0/10 (–Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç)
**WebApp:** 2/10 (–∫–æ–¥ –µ—Å—Ç—å, –Ω–æ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω)
**–û–±—â–∞—è —Å–∏—Å—Ç–µ–º–∞:** 5/10 (—Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ)

---

**–û—Ç—á–µ—Ç —Å–æ—Å—Ç–∞–≤–ª–µ–Ω:** 30 –æ–∫—Ç—è–±—Ä—è 2025
**–î–ª—è –±–æ—Ç–∞:** @aibroker_bot
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
