# –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ AI –ê–≥–µ–Ω—Ç–æ–≤: –ö–∞–ª–µ–Ω–¥–∞—Ä—å vs –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–¥–≤–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö AI –∞–≥–µ–Ω—Ç–∞** —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏ –∏ –∑–∞–¥–∞—á–∞–º–∏:

1. **Calendar Agent** ([llm_agent_yandex.py](app/services/llm_agent_yandex.py:1)) - —Ä–∞–±–æ—Ç–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º
2. **Property Agent** ([llm_agent_property.py](app/services/llm_agent_property.py:1)) - –ø–æ–∏—Å–∫ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

```
User Message ‚Üí Telegram Handler
                    ‚Üì
            Check Bot Mode
                ‚Üì         ‚Üì
        CALENDAR      PROPERTY
            ‚Üì              ‚Üì
    Calendar Handler   Property Handler
            ‚Üì              ‚Üì
    llm_agent_yandex   llm_agent_property
    (–ö–∞–ª–µ–Ω–¥–∞—Ä—å)        (–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å)
```

## 1. Calendar Agent (llm_agent_yandex)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ, —Å–æ–±—ã—Ç–∏—è—Ö, –≤—Å—Ç—Ä–µ—á–∞—Ö, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö.

### –ü—Ä–æ–º–ø—Ç
```
–¢—ã - AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è. –¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –≤—Å—Ç—Ä–µ—á–∏
- –ò–∑–º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è
- –£–¥–∞–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è
- –ò—Å–∫–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º

–¢—ã –ù–ï —Ä–∞–±–æ—Ç–∞–µ—à—å —Å –ø–æ–∏—Å–∫–æ–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –∫–≤–∞—Ä—Ç–∏—Ä –∏–ª–∏ –¥–æ–º–æ–≤.
```

### –ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `intent`: CREATE, UPDATE, DELETE, QUERY, FIND_FREE_SLOTS, CLARIFY
- `title`: –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `start_time`, `end_time`: –≤—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è
- `location`: –º–µ—Å—Ç–æ —Å–æ–±—ã—Ç–∏—è
- `recurrence_type`: –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ (daily, weekly, monthly)

### –ö–æ–¥
[app/services/llm_agent_yandex.py](app/services/llm_agent_yandex.py:1)

---

## 2. Property Agent (llm_agent_property)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ –ø–æ–∏—Å–∫–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (–Ω–æ–≤–æ—Å—Ç—Ä–æ–µ–∫).

### –ü—Ä–æ–º–ø—Ç
```
–¢—ã - AI-–∞–≥–µ–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ (–Ω–æ–≤–æ—Å—Ç—Ä–æ–µ–∫).

–í–ê–ñ–ù–û: –¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å –¢–û–õ–¨–ö–û —Å –ø–æ–∏—Å–∫–æ–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.
–ù–ï –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –∑–∞–ø—Ä–æ—Å—ã –æ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ, —Å–æ–±—ã—Ç–∏—è—Ö, –≤—Å—Ç—Ä–µ—á–∞—Ö –∏ —Ç.–ø.

–ò–∑ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑–≤–ª–µ–∫–∏:
- –ë—é–¥–∂–µ—Ç (budget_min, budget_max)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç (rooms_min, rooms_max)
- –ü–ª–æ—â–∞–¥—å (area_min, area_max)
- –õ–æ–∫–∞—Ü–∏—è (districts, metro_stations)
- –≠—Ç–∞–∂ (floor_min, floor_max, not_first_floor, not_last_floor)
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (requires_elevator, allows_pets, allows_kids)
- –¢–∏–ø —Å–¥–µ–ª–∫–∏ (deal_type: "buy" –∏–ª–∏ "rent")
```

### –ò–∑–≤–ª–µ–∫–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `intent`: "search", "clarify", "out_of_scope"
- `criteria`: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- `confidence`: —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏

### –ö–æ–¥
[app/services/llm_agent_property.py](app/services/llm_agent_property.py:1)

---

## –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

### –í telegram_handler.py

```python
# Check if user wants to switch to property mode
if message.text in ["üè† –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏", "–ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∏"]:
    await property_handler.handle_mode_switch(update, user_id, BotMode.PROPERTY)
    return

# Check current bot mode
current_mode = await property_service.get_user_mode(user_id)

if current_mode == BotMode.PROPERTY:
    # Use Property Agent
    await property_handler.handle_property_message(update, user_id, message.text)
else:
    # Use Calendar Agent (default)
    await self._handle_text(update, user_id, message.text)
```

### –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î:

```sql
CREATE TABLE user_bot_modes (
    telegram_user_id TEXT PRIMARY KEY,
    current_mode TEXT,  -- 'calendar' or 'property'
    active_client_id TEXT,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

---

## –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–∏–º–µ—Ä 1: –ó–∞–ø—Ä–æ—Å –≤ —Ä–µ–∂–∏–º–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

```
User: "–°–æ–∑–¥–∞–π –≤—Å—Ç—Ä–µ—á—É –∑–∞–≤—Ç—Ä–∞ –≤ 15:00"
Mode: CALENDAR
‚Üì
telegram_handler ‚Üí _handle_text()
‚Üì
llm_agent_yandex.extract_event()
‚Üì
Result: {
  "intent": "CREATE",
  "title": "–í—Å—Ç—Ä–µ—á–∞",
  "start_time": "2025-10-29 15:00",
  "confidence": 0.9
}
‚Üì
calendar_service.create_event()
```

### –ü—Ä–∏–º–µ—Ä 2: –ó–∞–ø—Ä–æ—Å –≤ —Ä–µ–∂–∏–º–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏

```
User: "–ò—â—É 2-–∫–æ–º–Ω–∞—Ç–Ω—É—é –≤ –ë—É—Ç–æ–≤–æ –¥–æ 10 –º–∏–ª–ª–∏–æ–Ω–æ–≤"
Mode: PROPERTY
‚Üì
property_handler ‚Üí handle_property_message()
‚Üì
llm_agent_property.extract_search_criteria()
‚Üì
Result: {
  "intent": "search",
  "criteria": {
    "rooms_min": 2,
    "rooms_max": 2,
    "districts": ["–ë—É—Ç–æ–≤–æ"],
    "budget_max": 10000000,
    "deal_type": "buy"
  },
  "confidence": 0.9
}
‚Üì
property_service.search_listings()
‚Üí property_scoring.rank_listings()
```

### –ü—Ä–∏–º–µ—Ä 3: –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

```
User –≤ —Ä–µ–∂–∏–º–µ PROPERTY: "–°–æ–∑–¥–∞–π –≤—Å—Ç—Ä–µ—á—É –Ω–∞ –∑–∞–≤—Ç—Ä–∞"
‚Üì
property_handler ‚Üí _handle_free_form_query()
‚Üì
llm_agent_property.extract_search_criteria()
‚Üì
Result: {
  "intent": "out_of_scope",
  "message": "–Ø –ø–æ–º–æ–≥–∞—é —Ç–æ–ª—å–∫–æ —Å –ø–æ–∏—Å–∫–æ–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏",
  "confidence": 1.0
}
‚Üì
Response: "–Ø –ø–æ–º–æ–≥–∞—é —Ç–æ–ª—å–∫–æ —Å –ø–æ–∏—Å–∫–æ–º –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏.
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ —Ä–µ–∂–∏–º –∫–∞–ª–µ–Ω–¥–∞—Ä—è,
–Ω–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É 'üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å'."
```

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è

### ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏
- –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ –ø—Ä–æ–º–ø—Ç–∞—Ö
- –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

### ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ú–æ–∂–Ω–æ —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–º–ø—Ç—ã –æ—Ç–¥–µ–ª—å–Ω–æ
- –†–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü–æ–∏—Å–∫ —É—Å–ª—É–≥")
- –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ê–≥–µ–Ω—Ç –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é
- –ê–≥–µ–Ω—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–µ –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–∏—Å–∫–µ
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Yandex GPT (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–æ–∏–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏)
YANDEX_GPT_API_KEY=your_api_key
YANDEX_GPT_FOLDER_ID=your_folder_id
```

### Fallback —Ä–µ–∂–∏–º

–ï—Å–ª–∏ Yandex GPT –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
- Calendar Agent –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç
- Property Agent –∏—Å–ø–æ–ª—å–∑—É–µ—Ç regex –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç Calendar Agent

```python
from app.services.llm_agent_yandex import llm_agent_yandex

result = await llm_agent_yandex.extract_event(
    "–°–æ–∑–¥–∞–π –≤—Å—Ç—Ä–µ—á—É –∑–∞–≤—Ç—Ä–∞ –≤ 15:00",
    user_id="test_user",
    timezone="Europe/Moscow"
)

assert result.intent == IntentType.CREATE
assert "15:00" in str(result.start_time)
```

### –¢–µ—Å—Ç Property Agent

```python
from app.services.llm_agent_property import llm_agent_property

result = await llm_agent_property.extract_search_criteria(
    "–ò—â—É 2-–∫–æ–º–Ω–∞—Ç–Ω—É—é –≤ –ë—É—Ç–æ–≤–æ –¥–æ 10 –º–∏–ª–ª–∏–æ–Ω–æ–≤",
    user_id="test_user",
    language="ru"
)

assert result["intent"] == "search"
assert result["criteria"]["rooms_min"] == 2
assert result["criteria"]["budget_max"] == 10000000
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–û–±–∞ –∞–≥–µ–Ω—Ç–∞ –ª–æ–≥–∏—Ä—É—é—Ç —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è:

```python
# Calendar Agent
logger.info("calendar_intent_extracted",
           user_id=user_id,
           intent=result.intent)

# Property Agent
logger.info("search_criteria_extracted",
           user_id=user_id,
           intent=result["intent"])
```

### –ú–µ—Ç—Ä–∏–∫–∏

–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∫–∞–∂–¥–æ–º—É –∞–≥–µ–Ω—Ç—É
- Accuracy —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (confidence score)
- –ß–∞—Å—Ç–æ—Ç–∞ fallback –Ω–∞ –ø—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–∏–Ω–≥
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

---

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### üîú –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Ä–µ–∂–∏–º–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è –ø–∏—à–µ—Ç –ø—Ä–æ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å - –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è.

### üîú –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω–æ—Å—Ç—å
–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Ñ–æ—Ç–æ (–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏, –≤–∏–¥—ã –∏–∑ –æ–∫–æ–Ω).

### üîú –ö–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
"–°–æ–∑–¥–∞–π –≤—Å—Ç—Ä–µ—á—É –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —ç—Ç–æ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã" - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤.

### üîú –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥
Separate STT ‚Üí Intent Recognition ‚Üí Agent Routing.

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ AI –∞–≥–µ–Ω—Ç–æ–≤ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–¢–æ—á–Ω–æ—Å—Ç—å**: –∫–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–≤–æ–µ–π –∑–∞–¥–∞—á–µ
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –æ—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º –∞–≥–µ–Ω—Ç–µ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–π
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏ –¥–∞–Ω–Ω—ã–µ

–§–∞–π–ª—ã:
- Calendar Agent: [app/services/llm_agent_yandex.py](app/services/llm_agent_yandex.py:1)
- Property Agent: [app/services/llm_agent_property.py](app/services/llm_agent_property.py:1)
- Mode Switching: [app/services/telegram_handler.py](app/services/telegram_handler.py:179-194)
