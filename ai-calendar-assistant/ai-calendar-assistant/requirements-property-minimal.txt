# Property Search Bot - Minimal Production Requirements
# Python 3.10+

# ============================================
# CORE DEPENDENCIES (Required)
# ============================================

# Web Framework
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6

# Database
sqlalchemy==2.0.23
asyncpg==0.29.0
alembic==1.12.1
psycopg2-binary==2.9.9

# Data Validation
pydantic==2.5.0
pydantic-settings==2.1.0

# Async HTTP Client (for Yandex APIs, OpenStreetMap)
aiohttp==3.9.1

# Logging
structlog==23.2.0

# Telegram Bot Integration
python-telegram-bot==20.7

# Date/Time Utilities
python-dateutil==2.8.2
pytz==2023.3

# Environment Variables
python-dotenv==1.0.0

# ============================================
# OPTIONAL DEPENDENCIES (Graceful degradation)
# ============================================

# Rate Limiting
slowapi==0.1.9

# Caching
cachetools==5.3.2

# Retry Logic
tenacity==8.2.3

# Human-Readable Numbers
humanize==4.9.0

# ============================================
# TESTING (Development only)
# ============================================

pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0

# ============================================
# CODE QUALITY (Development only)
# ============================================

black==23.12.0
flake8==6.1.0
mypy==1.7.1
isort==5.13.0

# ============================================
# DEPLOYMENT (Production only)
# ============================================

gunicorn==21.2.0
sentry-sdk[fastapi]==1.39.1  # Error tracking (optional)

# ============================================
# NOTES
# ============================================

# 1. NO external API SDKs needed:
#    - Yandex GPT: Uses aiohttp directly
#    - Yandex.Maps: Uses aiohttp directly
#    - Yandex Vision: Uses aiohttp directly
#    - OpenStreetMap: FREE, no API key, uses aiohttp

# 2. Graceful degradation:
#    - System works WITHOUT Yandex Maps API (routes disabled)
#    - System works WITHOUT Yandex Vision API (photo analysis disabled)
#    - POI enrichment ALWAYS works (OpenStreetMap)
#    - Price context ALWAYS works (internal calculations)
#    - Developer reputation ALWAYS works (built-in database)

# 3. Database:
#    - PostgreSQL 14+ required
#    - JSONB support required (for payment_methods, approved_banks)

# 4. Installation:
#    pip install -r requirements-property-minimal.txt

# 5. Production deployment:
#    pip install -r requirements-property-minimal.txt
#    pip install gunicorn sentry-sdk[fastapi]

# 6. Development setup:
#    pip install -r requirements-property-minimal.txt
#    pip install pytest pytest-asyncio black flake8 mypy
