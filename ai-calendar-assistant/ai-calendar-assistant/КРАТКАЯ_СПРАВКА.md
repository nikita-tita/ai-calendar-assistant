# üìã –ö—Ä–∞—Ç–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É

**–ü—Ä–æ–µ–∫—Ç:** AI Calendar Assistant (–ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –±–æ—Ç)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–∞–∫ Calendar Bot
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-11-01

---

## ü§ñ –ß—Ç–æ —ç—Ç–æ –∑–∞ –±–æ—Ç?

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è Telegram —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –ì–æ–ª–æ—Å–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:
- `/start` - –Ω–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å —Å–æ–≥–ª–∞—Å–∏—è–º–∏
- `/calendar` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ
- `/settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è)
- `/timezone` - –≤—ã–±–æ—Ä —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞

### –ö–Ω–æ–ø–∫–∏:
- üìã –î–µ–ª–∞ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
- üìÖ –î–µ–ª–∞ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
- üìÜ –î–µ–ª–∞ –Ω–∞ –Ω–µ–¥–µ–ª—é
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- üõ† –°–µ—Ä–≤–∏—Å—ã (–ú2 - –∏–ø–æ—Ç–µ–∫–∞, —Å–¥–µ–ª–∫–∏, –∞—Ä–µ–Ω–¥–∞)

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π —Ç–µ–∫—Å—Ç–æ–º –∏ –≥–æ–ª–æ—Å–æ–º
‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
‚úÖ –ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
‚úÖ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö
‚úÖ –†–∞–±–æ—Ç–∞ —Å Radicale Calendar (CalDAV)

---

## ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (Property Bot –æ—Ç–∫–ª—é—á–µ–Ω)

Property Bot (–ø–æ–∏—Å–∫ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏) **–ü–û–õ–ù–û–°–¢–¨–Æ –û–¢–ö–õ–Æ–ß–ï–ù**:

- ‚ùå –ö–æ–º–∞–Ω–¥–∞ `/property`
- ‚ùå –ö–Ω–æ–ø–∫–∏ –ø–æ–∏—Å–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
- ‚ùå Property API endpoints
- ‚ùå –ü–æ–∏—Å–∫ –∫–≤–∞—Ä—Ç–∏—Ä

**–ü—Ä–∏—á–∏–Ω–∞:** Property Bot –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω –∫–∞–∫ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å

**–ì–¥–µ –∫–æ–¥:** `_archived/property_bot_microservice/`

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Calendar Bot (ACTIVE)
‚îú‚îÄ‚îÄ FastAPI (main.py)
‚îú‚îÄ‚îÄ Telegram Bot Handler (telegram_handler.py)
‚îú‚îÄ‚îÄ LLM Agent (Yandex GPT)
‚îú‚îÄ‚îÄ Calendar Service (Radicale CalDAV)
‚îî‚îÄ‚îÄ Speech-to-Text (Yandex SpeechKit)

Property Bot (ARCHIVED ‚ùå)
‚îî‚îÄ‚îÄ _archived/property_bot_microservice/
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ai-calendar-assistant/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ config.py              # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ routers/               # API endpoints
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.py        # Telegram webhook
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events.py          # Events API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py           # Admin API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logs.py            # Logs API
‚îÇ   ‚îú‚îÄ‚îÄ services/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram_handler.py       # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ Telegram
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ llm_agent_yandex.py      # LLM –∞–≥–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calendar_radicale.py     # Calendar —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stt_yandex.py            # Speech-to-Text
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_preferences.py      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ models/                # –ú–æ–¥–µ–ª–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ schemas/               # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ _archived/                 # –ê–†–•–ò–í
‚îÇ   ‚îî‚îÄ‚îÄ property_bot_microservice/
‚îÇ       ‚îú‚îÄ‚îÄ README_ARCHIVED.md        # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏–≤–∞
‚îÇ       ‚îú‚îÄ‚îÄ property/                 # –ö–æ–¥ Property Bot
‚îÇ       ‚îú‚îÄ‚îÄ property.py               # Property —Ä–æ—É—Ç–µ—Ä
‚îÇ       ‚îî‚îÄ‚îÄ telegram_handler_fixed.py # Handler —Å Property
‚îÇ
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ docker-compose.yml         # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt           # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îî‚îÄ‚îÄ –ê–†–•–ò–í–ê–¶–ò–Ø_PROPERTY_BOT.md # üìÑ –ü–û–õ–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å .env.example)
cp .env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç—å: TELEGRAM_BOT_TOKEN, YANDEX_API_KEY, YANDEX_FOLDER_ID

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å Radicale (–∫–∞–ª–µ–Ω–¥–∞—Ä—å)
docker-compose up -d radicale

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
uvicorn app.main:app --reload
```

### Docker:
```bash
docker-compose up -d
```

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
1. **–ê–†–•–ò–í–ê–¶–ò–Ø_PROPERTY_BOT.md** - –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ–± –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ Property Bot
2. **_archived/property_bot_microservice/README_ARCHIVED.md** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞—Ä—Ö–∏–≤–∞
3. **README.md** - –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
4. **PRD_v2.0.md** - —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–æ–µ–∫—Ç—É

### –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è Property Bot:
–°–º–æ—Ç—Ä–∏—Ç–µ `–ê–†–•–ò–í–ê–¶–ò–Ø_PROPERTY_BOT.md`, —Ä–∞–∑–¥–µ–ª "–ö–∞–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Property Bot"

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend:** FastAPI (Python 3.11+)
- **Bot Framework:** python-telegram-bot v21
- **LLM:** Yandex GPT Pro
- **STT:** Yandex SpeechKit
- **Calendar:** Radicale CalDAV Server
- **Deployment:** Docker, Docker Compose

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è Calendar Bot:**
```env
TELEGRAM_BOT_TOKEN=your_bot_token
YANDEX_API_KEY=your_yandex_api_key
YANDEX_FOLDER_ID=your_folder_id
RADICALE_URL=http://radicale:5232
```

**–ù–ï –Ω—É–∂–Ω—ã (Property Bot –æ—Ç–∫–ª—é—á–µ–Ω):**
```env
# PROPERTY_FEED_URL=...  # –û—Ç–∫–ª—é—á–µ–Ω–æ
# POSTGRES_*=...         # –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–µ–Ω –¥–ª—è Calendar
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã Calendar Bot:
```bash
# 1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å /start –±–æ—Ç—É
# 2. –î–∞—Ç—å —Å–æ–≥–ª–∞—Å–∏—è
# 3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ: "–í—Å—Ç—Ä–µ—á–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 15:00"
# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ Property –æ—Ç–∫–ª—é—á–µ–Ω:
```bash
# –≠—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –ù–ï –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å:
# - /property
# - –ö–Ω–æ–ø–∫–∏ –ø–æ–∏—Å–∫–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
```

---

## üìû –ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å Calendar Bot:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker logs telegram-bot-polling`
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env —Ñ–∞–π–ª
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Radicale

### –í–æ–ø—Ä–æ—Å—ã –ø–æ Property Bot:
–°–º–æ—Ç—Ä–∏—Ç–µ `_archived/property_bot_microservice/README_ARCHIVED.md`

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

**2025-11-01:** Property Bot –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω
- –í—Å–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ `_archived/property_bot_microservice/`
- –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Property
- Calendar Bot —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Calendar Bot –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
**Property Bot:** ‚ùå –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω –≤ `_archived/property_bot_microservice/`
