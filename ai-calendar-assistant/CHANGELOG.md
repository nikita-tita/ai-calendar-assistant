# Changelog

Все важные изменения в проекте документируются в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/).

---

## [2025-12-04] - WebApp Fixes v1

### Fixed
- **Скролл к "Сегодня"**: Исправлена проблема когда страница прокручивалась к текущей дате при каждом действии. Теперь скролл происходит только при первой загрузке.
- **Кнопка создания задачи**: Добавлена отсутствующая функциональность создания новых задач в WebApp.

### Added
- `initialScrollDone` флаг для контроля однократного скролла
- `openNewTodo()` функция для открытия формы создания задачи
- `createTodo()` функция для POST-запроса на API создания задачи
- Кнопка "+ Новая задача" в списке задач
- Условная кнопка "Создать" / "Сохранить" в форме редактирования
- `scripts/deploy_sync.sh` - скрипт синхронизации git с docker build context

### Technical
- Версия WebApp: `2025-12-04-v1`
- Файл: `app/static/index.html`

### Deployment Notes
На сервере есть особенность структуры:
- Git repo: `/root/ai-calendar-assistant/ai-calendar-assistant/`
- Docker context: `/root/ai-calendar-assistant/`

Используйте `deploy_sync.sh` для корректного деплоя:
```bash
ssh root@91.229.8.221 '/root/ai-calendar-assistant/deploy_sync.sh'
```

---

## [2025-12-03] - Repository Cleanup

### Changed
- Удалено 518 избыточных файлов из репозитория
- Реорганизована структура проекта

---

## [2025-11-29] - Todos Integration

### Added
- Интеграция задач (todos) в основной WebApp
- Объединение `todos.html` и `index.html` в единый интерфейс
- Табы "События" и "Задачи" в WebApp

---

## [2025-10-28] - WebApp Click Fix

### Fixed
- Исправлена проблема когда клики на события не работали
- Функции перенесены в глобальную область видимости (`window.viewEvent`, etc.)
- Добавлено детальное логирование для отладки

### Technical
- Версия: `2025-10-28-17:30`
- Документация: `docs/03-features/webapp/WEBAPP_FIX_REPORT.md`

---

## Структура версий WebApp

| Версия | Дата | Описание |
|--------|------|----------|
| 2025-12-04-v1 | 2025-12-04 | Фикс скролла + создание задач |
| 2025-11-29-16:00 | 2025-11-29 | Интеграция todos |
| 2025-10-28-17:30 | 2025-10-28 | Фикс кликов |

---

## Как добавлять записи

При внесении изменений добавляйте запись в начало файла в формате:

```markdown
## [YYYY-MM-DD] - Краткое описание

### Added (новые функции)
- Описание

### Changed (изменения в существующем)
- Описание

### Fixed (исправления багов)
- Описание

### Removed (удалённый функционал)
- Описание

### Technical (технические детали)
- Версия, файлы, команды деплоя
```
